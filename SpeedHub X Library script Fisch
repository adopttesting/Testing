local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/AhmadV99/Main/main/Library/V3.lua"))()
loadstring(game:HttpGet("https://raw.githubusercontent.com/adopttesting/Testing/refs/heads/main/Settings"))()
local Window = Library:MakeWindow({
    Title = "Lite Hub | " .. Version,
    SaveFolder = "Lite Hub"
})

Window:AddMinimizeButton({
    Button = {Image = "rbxassetid://16022917595"},
    Corner = {CornerRadius = UDim.new(0, 5)}
})

local |Home = Window:MakeTab({"| Home", "scan-face"})
local |AutoFish = Window:MakeTab({"| Auto Fish", "Fish"})

-- Dropdown for selecting rod, moved this section to be more logical
local rods = {
    "Flimsy Rod", "Precision Rod", "Plastic Rod", "Carbon Rod", "Long Rod", 
    "Executive Rod", "No-Life Rod", "Rod Of The Depths", "Training Rod", 
    "Fast Rod", "Lucky Rod", "Steady Rod", "Fortune Rod", "Magma Rod", 
    "Reinforced Rod", "Stone Rod", "Phoenix Rod", "Midas Rod", "Trident Rod", 
    "Mythical Rod", "Rapid Rod", "Magnet Rod", "Nocturnal Rod", "Destiny Rod", 
    "Kings Rod", "Aurora Rod", "Scurvy Rod"
}

local selectedRod = "Flimsy Rod" -- Default rod

-- Dropdown for selecting rod
Dropdown(|AutoFish, "Select Rod", "Choose a rod to equip", rods, "Flimsy Rod")

-- Auto Equip Rod toggle
local autoEquipRod = false
Toggle(|AutoFish, "Auto Equip Rod", "This will equip the selected rod", false)

-- Auto Cast toggle
local autoCast = false
Toggle(|AutoFish, "Auto Cast", "This will cast the selected rod every 0.1 seconds", false)

-- Auto Reel toggle
local autoReel = false
Toggle(|AutoFish, "Auto Reel", "This will reel the rod every 0.2 seconds", false)

-- Function to continuously cast the selected rod
task.spawn(function()
    while true do
        if autoCast then
            local rod = game.Players.LocalPlayer.Character:FindFirstChild(selectedRod)
            if rod and rod:FindFirstChild("events") and rod.events:FindFirstChild("cast") then
                local args = {
                    [1] = 23.700000000000006,
                    [2] = 1
                }
                -- Fire the cast event for the selected rod
                rod.events.cast:FireServer(unpack(args))
            end
        end
        wait(0.1) -- Wait for 0.1 seconds before the next cast
    end
end)

-- Function to continuously reel the selected rod
task.spawn(function()
    while true do
        if autoReel then
            local args = {
                [1] = 100,
                [2] = true
            }
            -- Fire the reelfinished event
            game:GetService("ReplicatedStorage"):WaitForChild("events"):WaitForChild("reelfinished"):FireServer(unpack(args))
        end
        wait(0.2) -- Wait for 0.2 seconds before the next reel
    end
end)

-- Function to continuously equip the selected rod
task.spawn(function()
    while true do
        if autoEquipRod then
            local tool = game.Players.LocalPlayer.Backpack:FindFirstChild(selectedRod)
            if tool then
                -- Equip the selected rod if it's not already equipped
                game.Players.LocalPlayer.Character.Humanoid:EquipTool(tool)
            end
        end
        wait(0.1) -- Prevent too much processing
    end
end)

-- Update the selected rod when the dropdown changes
Dropdown(|AutoFish, "Select Rod", "Choose a rod to equip", rods, "Flimsy Rod", function(value)
    selectedRod = value
end)
