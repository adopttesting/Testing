local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/AhmadV99/Main/main/Library/V3.lua"))()
loadstring(game:HttpGet("https://raw.githubusercontent.com/adopttesting/Testing/refs/heads/main/Settings"))()
local Window = Library:MakeWindow({
    Title = "Lite Hub | " .. Version,
    SaveFolder = "Lite Hub"
})

Window:AddMinimizeButton({
    Button = {Image = "rbxassetid://16022917595"},
    Corner = {CornerRadius = UDim.new(0, 5)}
})

task.spawn(function()
    if game.Workspace:FindFirstChild("RobloxForwardPortals") then
        game.Workspace.RobloxForwardPortals:Destroy()
    end
end)
local SpeedHubX = {}
local function Toggle(Tab, Name, Desc, Default)
  local Ver = Tab:AddToggle({
    Name = Name,Description = Desc or "",Default = Default,
    Callback = function(Value)
      SpeedHubX[Name] = Value
    end})
    return Ver
end
local function Dropdown(Tab, Name, Desc, Option, Default)
  local Ver = Tab:AddDropdown({
    Name = Name,Description = Desc or "",Options = Option,Default = Default,
    Callback = function(Value)
      SpeedHubX[Name] = Value
    end})
    return Ver
end
local function Silder(Tab, Name, Min, Max, Default)
  local Ver = Tab:AddSlider({
    Name = Name,Min = Min,Max = Max,Default = Default,
    Callback = function(Value)
      SpeedHubX[Name] = Value
    end})
    return Ver
end

local Home = Window:MakeTab({"| Home", "scan-face"})
local AutoFish = Window:MakeTab({"| Auto Fish", "Fish"})

-- Rods list
local rods = {
    "Flimsy Rod", "Precision Rod", "Plastic Rod", "Carbon Rod", "Long Rod", 
    "Executive Rod", "No-Life Rod", "Rod Of The Depths", "Training Rod", 
    "Fast Rod", "Lucky Rod", "Steady Rod", "Fortune Rod", "Magma Rod", 
    "Reinforced Rod", "Stone Rod", "Phoenix Rod", "Midas Rod", "Trident Rod", 
    "Mythical Rod", "Rapid Rod", "Magnet Rod", "Nocturnal Rod", "Destiny Rod", 
    "Kings Rod", "Aurora Rod", "Scurvy Rod"
}

local selectedRod = "Flimsy Rod" -- Default rod

-- Dropdown for selecting rod
Dropdown(AutoFish, "Select Rod", "Choose a rod to equip", rods, "Flimsy Rod", function(value)
    selectedRod = value
end)

-- Auto Equip Rod toggle
local autoEquipRod = false
Toggle(AutoFish, "Auto Equip Rod", "This will equip the selected rod", false, function(value)
    autoEquipRod = value
end)

-- Auto Cast toggle
local autoCast = false
Toggle(AutoFish, "Auto Cast", "This will cast the selected rod every 0.1 seconds", false, function(value)
    autoCast = value
end)

-- Auto Reel toggle
local autoReel = false
Toggle(AutoFish, "Auto Reel", "This will reel the rod every 0.2 seconds", false, function(value)
    autoReel = value
end)

-- Auto Shake toggle
local autoShake = false
Toggle(AutoFish, "Auto Shake", "This will shake the rod", false, function(value)
    autoShake = value
end)

-- Function to continuously cast the selected rod
task.spawn(function()
    while true do
        if autoCast then
            local rod = game.Players.LocalPlayer.Character:FindFirstChild(selectedRod)
            if rod and rod:FindFirstChild("events") and rod.events:FindFirstChild("cast") then
                local args = {
                    [1] = 23.700000000000006,
                    [2] = 1
                }
                -- Fire the cast event for the selected rod
                rod.events.cast:FireServer(unpack(args))
            end
        end
        wait(0.1) -- Wait for 0.1 seconds before the next cast
    end
end)

-- Function to continuously reel the selected rod
task.spawn(function()
    while true do
        if autoReel then
            local args = {
                [1] = 100,
                [2] = true
            }
            -- Fire the reelfinished event
            game:GetService("ReplicatedStorage"):WaitForChild("events"):WaitForChild("reelfinished"):FireServer(unpack(args))
        end
        wait(0.2) -- Wait for 0.2 seconds before the next reel
    end
end)

-- Function to continuously equip the selected rod
task.spawn(function()
    while true do
        if autoEquipRod then
            local tool = game.Players.LocalPlayer.Backpack:FindFirstChild(selectedRod)
            if tool then
                -- Equip the selected rod if it's not already equipped
                game.Players.LocalPlayer.Character.Humanoid:EquipTool(tool)
            end
        end
        wait(0.1) -- Prevent too much processing
    end
end)

-- Function to perform the shake action if Auto Shake is enabled
task.spawn(function()
    local VirtualInputManager = game:GetService("VirtualInputManager")  -- Correct service for simulating input
    local pressedBackslash = false  -- Track if "\" has already been pressed

    while true do
        if autoShake then
            -- Activate navigation mode by pressing "\"
            if not pressedBackslash then
                VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.BackSlash, false, nil)
                VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.BackSlash, false, nil)
                pressedBackslash = true
                wait(0.3)  -- Give some time for the input to be processed
            end

            -- Regular "S" and "Enter" simulation for shaking
            VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.S, false, nil)
            VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.S, false, nil)
            wait(0.1)  -- Press "S" every 0.1 seconds

            VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.Return, false, nil)
            VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.Return, false, nil)
            wait(0.12)  -- Press "Enter" every 0.12 seconds
        else
            -- Deactivate navigation mode when Auto Shake is off
            if pressedBackslash then
                VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.BackSlash, false, nil)
                VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.BackSlash, false, nil)
                pressedBackslash = false
            end
        end
        wait(0.1) -- Prevent excessive looping
    end
end)
