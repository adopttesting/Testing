local Fluent = loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()

local Window = Fluent:CreateWindow({
    Title = "Lite Hub",
    SubTitle = "by dawid",
    TabWidth = 160,
    Size = UDim2.fromOffset(580, 460),
    Acrylic = true,
    Theme = "Aqua",
    MinimizeKey = Enum.KeyCode.LeftControl, -- Optional, if you still want to keep the keybind
})

local Tabs = {
    AutoFishing = Window:AddTab({ Title = "Auto Fishing", Icon = "" }),
    AutomaticallyTab = Window:AddTab({ Title = "Automatically", Icon = "" }),
    TeleportTab = Window:AddTab({ Title = "Teleport", Icon = "" })
}

-- AutoFishing Tab
Tabs.AutoFishing:AddParagraph({
    Title = "Farming",
    Content = ""
})

-- Create Dropdown for Select Rod
local Dropdown = Tabs.AutoFishing:AddDropdown("Select Rod", {
    Title = "",
    Values = {
        "Flimsy Rod", "Precision Rod", "Plastic Rod", "Carbon Rod", "Long Rod", 
        "Executive Rod", "No-Life Rod", "Rod Of The Depths", "Training Rod", 
        "Fast Rod", "Lucky Rod", "Steady Rod", "Fortune Rod", "Magma Rod", 
        "Reinforced Rod", "Stone Rod", "Phoenix Rod", "Midas Rod", "Trident Rod", 
        "Mythical Rod", "Rapid Rod", "Magnet Rod", "Nocturnal Rod", "Destiny Rod", 
        "Kings Rod", "Aurora Rod", "Scurvy Rod"
    },
    Multi = false,
    Default = 1,
})

Dropdown:SetValue("Flimsy Rod")  -- Default selection set to "Flimsy Rod"

-- Create Equip Rod Toggle
local EquipRodToggle = Tabs.AutoFishing:AddToggle("Equip Rod", {
    Title = "Equip Rod",
    Default = false
})

EquipRodToggle:OnChanged(function()
    local player = game:GetService("Players").LocalPlayer
    local backpack = player:WaitForChild("Backpack")

    while EquipRodToggle.Value do
        local selectedRod = Dropdown.Value  -- Get the rod name from the dropdown
        local rodTool = backpack:FindFirstChild(selectedRod) or player.Character:FindFirstChild(selectedRod)

        if rodTool and backpack:FindFirstChild(selectedRod) then
            rodTool.Parent = player.Character  -- Equip the rod
        end

        wait(0.5)  -- Adjust as needed to control how often it checks
    end
end)

-- Create Auto Cast Toggle
local AutoCastToggle = Tabs.AutoFishing:AddToggle("Auto Cast", {
    Title = "Auto Cast",
    Default = false
})

AutoCastToggle:OnChanged(function()
    while AutoCastToggle.Value do
        -- Fire the cast event with the selected rod
        local selectedRod = Dropdown.Value
        local args = {
            [1] = 23.7,  -- example value, replace as needed
            [2] = 1,
        }
        
        game:GetService("Players").LocalPlayer.Character:FindFirstChild(selectedRod).events.cast:FireServer(unpack(args))
        
        wait(0.5)  -- Adjust the wait time as needed
    end
end)

-- Create Auto Reel Toggle
local AutoReelToggle = Tabs.AutoFishing:AddToggle("Auto Reel", {
    Title = "Auto Reel",
    Default = false
})

AutoReelToggle:OnChanged(function()
    while AutoReelToggle.Value do
        -- Fire the reel finished event
        local args = {
            [1] = 100,
            [2] = true,
        }
        
        game:GetService("ReplicatedStorage"):WaitForChild("events"):WaitForChild("reelfinished"):FireServer(unpack(args))
        
        wait(0.5)  -- Adjust the wait time as needed
    end
end)

-- Create Auto Shake Toggle
local AutoShakeToggle = Tabs.AutoFishing:AddToggle("Auto Shake", {
    Title = "Auto Shake",
    Default = false
})

AutoShakeToggle:OnChanged(function()
    local VirtualInputManager = game:GetService("VirtualInputManager")  -- Correct service for simulating input
    local pressedBackslash = false  -- Track if "\" has already been pressed

    if AutoShakeToggle.Value then
        -- Step 1: Activate navigation mode by pressing "\"
        if not pressedBackslash then
            VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.BackSlash, false, nil)
            VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.BackSlash, false, nil)
            pressedBackslash = true
            wait(0.3)  -- Give some time for the input to be processed
        end

        -- Step 2: Press "D" four times
        for i = 1, 4 do
            VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.D, false, nil)
            VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.D, false, nil)
            wait(0.1)  -- Small delay to simulate pressing "D"
        end

        -- Step 3: Press "Enter"
        VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.Return, false, nil)
        VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.Return, false, nil)
        wait(0.3)  -- Small delay to simulate pressing "Enter"

        -- Step 5: Add a 2-second wait before starting the regular "S" and "Enter" presses
        wait(2)  -- Wait for 2 seconds before proceeding to regular action

        -- Step 6: Regular "S" and "Enter" simulation
        while AutoShakeToggle.Value do
            -- Simulate pressing "S"
            VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.S, false, nil)
            VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.S, false, nil)
            wait(0.1)  -- Small delay to simulate pressing "S"

            -- Simulate pressing "Enter"
            VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.Return, false, nil)
            VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.Return, false, nil)
            wait(0.35)  -- Small delay to simulate pressing "Enter"
        end
    else
        -- Deactivate navigation mode when toggle is turned off
        if pressedBackslash then
            VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.BackSlash, false, nil)
            VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.BackSlash, false, nil)
            pressedBackslash = false
        end
    end
end)

-- Create Auto Shake Debug Button
Tabs.AutoFishing:AddButton({
    Title = "Only If Needed",
    Description = "Simulate pressing Left CTRL",
    Callback = function()
        local VirtualInputManager = game:GetService("VirtualInputManager")
        
        -- Simulate pressing Left Control (KeyCode.LeftControl)
        VirtualInputManager:SendKeyEvent(true, Enum.KeyCode.LeftControl, false, nil)
        VirtualInputManager:SendKeyEvent(false, Enum.KeyCode.LeftControl, false, nil)
    end
})

-- Create Freeze Local Player Toggle
local FreezePlayerToggle = Tabs.AutoFishing:AddToggle("Freeze Local Player", {
    Title = "Freeze Local Player",
    Default = false
})

FreezePlayerToggle:OnChanged(function()
    local player = game:GetService("Players").LocalPlayer
    local character = player.Character
    local humanoid = character and character:FindFirstChildOfClass("Humanoid")
    
    if humanoid then
        while FreezePlayerToggle.Value do
            -- Freeze the player's movement
            humanoid.PlatformStand = true
            humanoid:ChangeState(Enum.HumanoidStateType.Physics)
            wait(0.1)  -- Check every 0.1 seconds to see if the toggle is still on
        end
        -- Unfreeze the player when the toggle is turned off
        humanoid.PlatformStand = false
        humanoid:ChangeState(Enum.HumanoidStateType.GettingUp)
    end
end)

-- AutomaticallyTab Section
Tabs.AutomaticallyTab:AddParagraph({
    Title = "Selling",
    Content = ""
})

Tabs.AutomaticallyTab:AddButton({
    Title = "Sell All",
    Description = "",
    Callback = function()
        game:GetService("ReplicatedStorage"):WaitForChild("events"):WaitForChild("SellAll"):InvokeServer()
    end
})

Tabs.AutomaticallyTab:AddParagraph({
    Title = "Merlin",
    Content = ""
})

Tabs.AutomaticallyTab:AddButton({
    Title = "Auto Buy Relic",
    Description = "",
    Callback = function()
        workspace:WaitForChild("world"):WaitForChild("npcs"):WaitForChild("Merlin"):WaitForChild("Merlin"):WaitForChild("power"):InvokeServer()
    end
})

Tabs.AutomaticallyTab:AddButton({
    Title = "Auto Buy Luck",
    Description = "",
    Callback = function()
        workspace:WaitForChild("world"):WaitForChild("npcs"):WaitForChild("Merlin"):WaitForChild("Merlin"):WaitForChild("luck"):InvokeServer()
    end
})

-- Teleport Tab Section
Tabs.TeleportTab:AddParagraph({
    Title = "Islands",
    Content = ""
})

-- Create Dropdown for Select Island
local IslandDropdown = Tabs.TeleportTab:AddDropdown("Select Island", {
    Title = "",
    Values = {
        "Terrapin Island", "Sunstone Island", "Statue Of Sovereignty", "Snowcap Island", 
        "Mushgroove Island", "Roslit Bay", "Moosewood", "Forsaken Shores", 
        "Atlantis", "Ancient Island"
    },
    Multi = false,
    Default = 1,
})

IslandDropdown:SetValue("Terrapin Island")  -- Default selection set to "Terrapin Island"

-- Create Teleport Toggle
local TeleportToggle = Tabs.TeleportTab:AddToggle("Teleport To Island", {
    Title = "Teleport To Island",
    Default = false
})

-- Coordinates for the islands
local islandCoordinates = {
    ["Terrapin Island"] = {Position = Vector3.new(50.320713, 297.993866, 1992.42078), Rotation = CFrame.new(0.885196388, 0, 0.465217561, 0, 1, 0, -0.465217561, 0, 0.885196388)},
    ["Sunstone Island"] = {Position = Vector3.new(-1035.39636, 427.592255, -1144.09583), Rotation = CFrame.new(1, 0, 0, 0, 1, 0, 0, 0, 1)},
    ["Statue Of Sovereignty"] = {Position = Vector3.new(-13.0207491, 381.091461, -1128.81299), Rotation = CFrame.new(0.834096551, -0, -0.551618457, 0, 1, -0, 0.551618457, 0, 0.834096551)},
    ["Snowcap Island"] = {Position = Vector3.new(2658.32715, 492.773834, 2550.50537), Rotation = CFrame.new(0.884703815, 0.0967384726, -0.456005305, 0.0390400924, 0.959416866, 0.279276192, 0.464515895, -0.264879227, 0.845023036)},
    ["Mushgroove Island"] = {Position = Vector3.new(2662.08105, 397.321472, -728.827026), Rotation = CFrame.new(1, 0, 0, 0, 1, 0, 0, 0, 1)},
    ["Roslit Bay"] = {Position = Vector3.new(-1496.55969, 384.380219, 500.728699), Rotation = CFrame.new(1, 0, 0, 0, 1, 0, 0, 0, 1)},
    ["Moosewood"] = {Position = Vector3.new(484.861145, 294.572845, 274.825012), Rotation = CFrame.new(1, 0, 0, 0, 1, 0, 0, 0, 1)},
    ["Forsaken Shores"] = {Position = Vector3.new(-2801.83496, 345.647247, 1533.48462), Rotation = CFrame.new(1, 0, 0, 0, 1, 0, 0, 0, 1)},
    ["Atlantis"] = {Position = Vector3.new(-3572.75, 171.767273, 513.625), Rotation = CFrame.new(1, 0, 0, 0, 1, 0, 0, 0, 1)},
    ["Ancient Island"] = {Position = Vector3.new(5943.60742, 498.524963, 507.076294), Rotation = CFrame.new(0.0654257536, -0, -0.997857451, 0, 1, -0, 0.997857451, 0, 0.0654257536)},
}

-- Teleportation functionality
TeleportToggle:OnChanged(function()
    local selectedIsland = IslandDropdown.Value
    local coordinates = islandCoordinates[selectedIsland]

    if coordinates and TeleportToggle.Value then
        -- Teleport the player
        local player = game:GetService("Players").LocalPlayer
        local character = player.Character or player:WaitForChild("Character")
        
        -- Set the player's position and rotation
        character:SetPrimaryPartCFrame(CFrame.new(coordinates.Position) * coordinates.Rotation)
    end
end)
